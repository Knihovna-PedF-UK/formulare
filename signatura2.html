<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
	<title>Tvorba druhých signatur</title>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/tiny-brutalism.css">
  <script>
    //trik, abych mohl v importovaný knihovně použít moduly
    module = {};
  </script>
  <script src="js/signatura2.js" type="text/javascript"></script>
  <script src="js/texlive-compile.js" type="text/javascript"></script>

</head>
<body>
  <header id="header">
    <menu>
  <a href="./index.html">Domů</a> | 
  <a href="./signatury.html">Signatury</a> | 
  <a href="./signatura2.html">Signatury 2</a> | 
  <a href="./carovekody.html">Čárové kódy</a> |
  <a href="./letaky.html">Cedule</a>
</menu>

  </header>
<template id="kniznistitky_sty">
\ProvidesPackage{kniznistitky}
\RequirePackage[cmyk,dvipsnames,x11names,svgnames]{xcolor}
\RequirePackage{graphicx}
\RequirePackage[code=Code39,H=7mm,X=0.19mm]{makebarcode}
\RequirePackage[margin=0pt,paperwidth=8.27in,paperheight=11.69in,top=5mm,bottom=2mm]{geometry}
\RequirePackage{ncccropbox}
\RequirePackage{etoolbox}
\RequirePackage{pict2e}
\ExplSyntaxOn
\newcommand\infobox[2]{\rotatebox{90}{\kern-18pt%
		\colorbox{#1}{\vtop to 1.5em{\hbox to \dimexpr 30mm-1pt\relax{\sffamily\Large\hfill\textbf{#2}\hfill}}}}}%
% \#1 Oddíl
% \#2 Poddodíl
% \#3 Počáteční písmena příjmení autora
% \#4 Čárový kód
% \#5 a \#5 Barvy
\def\FirstLetter#1#2;{#1}%
\newcommand\boxik[6]{%
\def\Iniciala{\FirstLetter#3{};}%
\cropbox[69.90mm][32mm]{%\kern 25mm
%\kern-4mm%
\hbox to 3mm{}%
\infobox{#5}{\strut\Iniciala}\infobox{#6}{\strut#2}%\kern 2mm\vbox{%
\parindent=0pt%
\begin{tabular}{l}%
\sffamily\large\bfseries//#1#2/#3\\%
%\vfill%%
\kern-3pt\barcode{#4}\\%
{\small #4}\\%
\end{tabular}%
\hfill\null%
%\bigskip
%\vfill\null
}\BreakBox\newline}

\newcommand\celetnaboxik[6]{%
  % \typeout{****************** \detokenize{#1, #2, #3, #4, #5, #6}}%
\def\Iniciala{\FirstLetter#3{};}%
\cropbox[69.90mm][32mm]{\kern 2mm%
\begin{tabular}{l}%
\sffamily\bfseries#1/#3\\%
%\vfill%%
\kern-3pt\barcode{#4}\\%
{\small #4}\\%
\end{tabular}%
\kern-3mm%
% \hbox to 3mm{}%
\begin{tabular}{l}%
\infobox{\celetnabackground}{\strut%
  \begingroup%
  \setlength{\unitlength}{1cm}%
  \begin{picture}(0,0)%
    \put(0,0.15){\textcolor{\celetnakolecko}{\circle*{1em}}}%
  \end{picture}%
  \endgroup%
}\\%
\infobox{#5}{\strut#2}\\%
\infobox{#6}{\strut#3}%\kern 2mm\vbox{%
\end{tabular}%
% \parindent=0pt%
% \hfill\null%
%\bigskip
%\vfill\null
}\BreakBox\newline}%

\newcommand\celetnainfobox[2]{%\rotatebox{90}{\kern-18pt%
		\colorbox{#1}{\vtop to 1.2em{\hbox to \dimexpr 22mm-1pt\relax{\sffamily\Large\hfill\textbf{#2}\hfill}}}%
}%

\newcount\BoxBreak
\def\truncdiv#1#2{((#1-(#2-1)/2)/#2)}
\def\moduloop#1#2{(#1-\truncdiv{#1}{#2}*#2)}
\def\modulo#1#2{\number\numexpr\moduloop{#1}{#2}\relax}
\def\BreakBox#1{%
	\global\advance\BoxBreak by 1\relax%
	\if\modulo\BoxBreak30 #1\fi%
  \allowbreak%
}


\def\EmptyBox{\cropbox[69.90mm][32mm]{}\BreakBox\newline}
\newcommand\DefOddil[6]{%
\csgdef{#1}##1##2{\boxik{#2}{#3}{##1}{##2}{#4}{#5}}%
}
\newcommand\oddil[3]{%
\ifcsdef{#1}{%
\csuse{#1}{#2}{#3}%
}{\typeout{\unexpanded{#1}}}%
}%

\def\celetnabackground{white}
\newcommand\celetna[4][\celetnabackground]{%
  \begingroup%
  \let\boxik\celetnaboxik%
  \def\celetnakolecko{#1}%
  \let\infobox\celetnainfobox%
  \oddil{#2}{#3}{#4}%
  \endgroup%
}

\newcommand\rettigova[4][]{%
  \begingroup%
  % ToDo: přidat podporu pro barevný kolečka v Rettigovce
  \def\rettigovakolecko{#1}%
  \oddil{#2}{#3}{#4}%
  \endgroup%
}

\AtBeginDocument{%
\parindent=0pt
}

\ExplSyntaxOff
\input{stitky-oddily}
\endinput

</template>

<template id="stitky_oddily_tex">
\DefOddil{DID BIOL}{DID BIOL}{}{red}{brown}{Didaktika biologie}
\DefOddil{BIOL 1}{BIOL}{1}{red}{brown}{Obecná biologie}
\DefOddil{BIOL 2}{BIOL}{2}{red}{brown}{Botanika}
\DefOddil{BIOL 3}{BIOL}{3}{red}{brown}{Zoologie}
\DefOddil{BIOL 4}{BIOL}{4}{red}{brown}{Environmentální studia}
\DefOddil{BIOL 5}{BIOL}{5}{red}{brown}{Mikrobiologie a genetika}
\DefOddil{BIOL 6}{BIOL}{6}{red}{brown}{Biologie člověka}
\DefOddil{GEOL}{GEOL}{}{red}{brown}{Geologie}
\DefOddil{CHEM}{CHEM}{}{yellow}{yellow}{Chemie}
\DefOddil{DID CHEM}{DID CHEM}{}{yellow}{yellow}{Didaktika chemie}
% tyhle oddíly už nebudeme používat
% \DefOddil{CJ 1}{CJ}{1}{gray}{violet}{Anglický jazyk}
% \DefOddil{CJ 2}{CJ}{2}{gray}{violet}{Německý jazyk}
% \DefOddil{CJ 3}{CJ}{3}{gray}{violet}{Francouzský jazyk}
% to budeme teprve dolaďovat
\DefOddil{FR 1}{FR}{1}{gray}{violet}{Francouzský jazyk -- ??}
\DefOddil{FR 2}{FR}{2}{gray}{violet}{Francouzský jazyk -- ??}
% \DefOddil{CJ 4}{CJ}{4}{gray}{violet}{Latina}
\DefOddil{LAT}{LAT}{}{gray}{violet}{Latina}
% ostatní jazyky taky asi rozprostřeme jinam
% \DefOddil{CJ 6}{CJ}{6}{gray}{violet}{Ostatní jazyky}
% \DefOddil{DĚJ-OV 1}{DĚJ-OV}{1}{green}{gray}{Světové dějiny}
% \DefOddil{DĚJ-OV 2}{DĚJ-OV}{2}{green}{gray}{České dějiny}
% \DefOddil{DĚJ-OV 3}{DĚJ-OV}{3}{green}{gray}{Občanská výchova}
% \DefOddil{DĚJ-OV 4}{DĚJ-OV}{4}{green}{gray}{Encyklopedie dějin}
% \DefOddil{DĚJ-OV 5}{DĚJ-OV}{5}{green}{gray}{Hrady a zámky}
% nový kategorie
\DefOddil{DID DĚJ}{DID DĚJ}{}{green}{gray}{Didaktika dějepisu}
\DefOddil{DĚJ 1}{DĚJ}{1}{green}{gray}{Světové dějiny}
\DefOddil{DĚJ 2}{DĚJ}{2}{green}{gray}{České dějiny}
\DefOddil{DĚJ 3}{DĚJ}{3}{green}{gray}{Encyklopedie dějin}
\DefOddil{DĚJ 4}{DĚJ}{4}{green}{gray}{Dějiny UK a PedF}
% musíme si ujasnit, jestli OV patří pod dějepis nebo samostatně
\DefOddil{OV}{OV}{}{green}{gray}{Občanská výchova}
\DefOddil{DID OV}{DID OV}{}{green}{gray}{Didaktika občanské výchovy}
% \DefOddil{EKOL}{EKOL}{}{red}{green}{Ekologie}
\DefOddil{EKON}{EKON}{}{white}{green}{Ekonomie}
% \DefOddil{FILM}{FILM}{}{yllow}{brown}{Film}
%\DefOddil{FILOZOF}{FILOZOF}{}{green}{white}{Filozofie}
\DefOddil{FIL 1}{FIL}{1}{green}{white}{Česká filozofie}
\DefOddil{FIL 2}{FIL}{2}{green}{white}{Zahraniční filozofie}
\DefOddil{FIL 3}{FIL}{3}{green}{white}{Filozofie -- ??}
\DefOddil{FYZ}{FYZ}{}{yellow}{green}{Fyzika}
% \DefOddil{HV}{HV}{}{green}{brown}{Hudební výchova}
\DefOddil{HV 1}{HV}{1}{green}{brown}{Hudba}
\DefOddil{HV 2}{HV}{2}{green}{brown}{Zpěv a sbory}
\DefOddil{HV 3}{HV}{3}{green}{brown}{Hudební nástroje}
\DefOddil{HV 4}{HV}{4}{green}{brown}{Hudební teorie}
\DefOddil{DID HV}{DID HV}{}{green}{brown}{Didaktika hudební výchovy}
\DefOddil{INFO}{INFO}{}{brown}{gray}{Informace, média}
\DefOddil{IKM}{IKM}{}{brown}{yellow}{Informatika}
% \DefOddil{IKM 3}{IKM}{3}{brown}{yellow}{ICT}
\DefOddil{MAT}{MAT}{}{green}{green}{Matematika}
\DefOddil{DID MAT}{DID MAT}{}{green}{green}{Didaktika matematiky}
\DefOddil{NÁB}{NÁB}{}{white}{blue}{Náboženství}
\DefOddil{PED 1}{PED}{1}{yellow}{Orange}{Obecná pedagogika}
\DefOddil{PED 2}{PED}{2}{yellow}{Orange}{Obecná didaktika}
\DefOddil{PED 3}{PED}{3}{yellow}{Orange}{Pedagogické slovníky a encyklopedie}
\DefOddil{PED 4}{PED}{4}{yellow}{Orange}{Pedagogičtí pracovníci}
\DefOddil{PED 5}{PED}{5}{yellow}{Orange}{Komunikace ve škole}
\DefOddil{PED 6}{PED}{6}{yellow}{Orange}{Předškolní a mimoškolní pedagogika}
% \DefOddil{PED 6 POM}{PED 6 POM}{6}{yellow}{Orange}{Předškolní a mimoškolní pedagogika}
\DefOddil{PED 7}{PED}{7}{yellow}{Orange}{Vzdělávání dospělých}
\DefOddil{PED 8}{PED}{8}{yellow}{Orange}{Řízení a organizace školství}
\DefOddil{PED 9}{PED}{9}{yellow}{Orange}{Srovnávací pedagogika}
\DefOddil{PED 10}{PED}{10}{yellow}{Orange}{Dějiny pedagogiky}
\DefOddil{PED 11}{PED}{11}{yellow}{Orange}{Komeniologie}
\DedOddil{POM MŠ}{POM MŠ}{}{yellow}{Orange}{Pomůcky pro MŠ}
\DefOddil{POLIT}{POLIT}{}{green}{gray}{Politologie}
\DefOddil{PSYCH 10}{PSYCH}{10}{red}{red}{Řada Klasici psychologie}
\DefOddil{PSYCH 1}{PSYCH}{1}{red}{red}{Obecná psychologie}
\DefOddil{PSYCH 2}{PSYCH}{2}{red}{red}{Vývojová psychologie}
\DefOddil{PSYCH 3}{PSYCH}{3}{red}{red}{Dějiny psychologie}
\DefOddil{PSYCH 4}{PSYCH}{4}{red}{red}{Sociální psychologie}
\DefOddil{PSYCH 5}{PSYCH}{5}{red}{red}{Psychologie osobnosti}
\DefOddil{PSYCH 6}{PSYCH}{6}{red}{red}{Psychopatologie, klinická psychologie}
\DefOddil{PSYCH 7}{PSYCH}{7}{red}{red}{Poradenství, psychoterapie}
\DefOddil{PSYCH 8}{PSYCH}{8}{red}{red}{Pedagogická psychologie}
\DefOddil{PSYCH 9}{PSYCH}{9}{red}{red}{Psychologie -- Ostatní}
% \DefOddil{RELAX}{RELAX}{}{white}{white}{Komiksy}
% \DefOddil{RJaLIT 1}{RJaLIT}{1}{white}{violet}{Ruský jazyk -- literatura}
% \DefOddil{RJaLIT 2}{RJaLIT}{2}{white}{violet}{Ruský jazyk -- gramatika}
% \DefOddil{RJaLIT 3}{RJaLIT}{3}{white}{violet}{Ruský jazyk -- slovníky}
% \DefOddil{SOCIOL}{SOCIOL}{}{red}{red}{Sociologie}
\DefOddil{SOCIOL 1}{SOCIOL}{}{red}{red}{Sociologie}
\DefOddil{SPPG 1}{SPPG}{1}{violet}{red}{Speciální pedagogika a inkluze}
\DefOddil{SPPG 2}{SPPG}{2}{violet}{red}{Psychopedie (mentální postižení)}
\DefOddil{SPPG 3}{SPPG}{3}{violet}{red}{Tyflopedie (zrakové postižení)}
\DefOddil{SPPG 4}{SPPG}{4}{violet}{red}{Surdopedie (sluchové postižení)}
\DefOddil{SPPG 5}{SPPG}{5}{violet}{red}{Specifické poruchy učení}
% přesunout knížky z SPPG 6 do PSYCH 6
\DefOddil{SPPG 6}{SPPG}{6}{violet}{red}{Narušená komunikační schopnost, logopedie}
\DefOddil{SPPG 7}{SPPG}{7}{violet}{red}{Somatopedie (tělesné postižení)}
\DefOddil{SPPG 8}{SPPG}{8}{violet}{red}{Etopedie (poruchy chování)}
\DefOddil{SPPG 9}{SPPG}{9}{violet}{red}{Neurodivergence (autismus, ADHD)}
\DefOddil{SPPG 10}{SPPG}{10}{violet}{red}{Sociální pedagogika (podpora, intervence)}
% \DefOddil{SPPG 11}{SPPG}{11}{violet}{red}{Pediatrie}
% \DefOddil{SPPG 12}{SPPG}{12}{violet}{red}{Sociální problémy, rodina}
% \DefOddil{SPPG 13}{SPPG}{13}{violet}{red}{Slovníky, všeobecné učebnice speciální pedagogiky}
\DefOddil{TV}{TV}{}{brown}{violet}{Tělesná výchova a sport}
\DefOddil{DID TV}{DID TV}{}{brown}{violet}{Didaktika tělesné výchovy}
% \DefOddil{U-SŠaUŠ 1}{U-SŠaUŠ}{1}{yellow}{blue}{Literatura (SŠ)}
% \DefOddil{U-SŠaUŠ 2}{U-SŠaUŠ}{2}{yellow}{blue}{Český jazyk (SŠ)}
% \DefOddil{U-SŠaUŠ 3}{U-SŠaUŠ}{3}{yellow}{blue}{Občanská výchova (SŠ)}
% \DefOddil{U-SŠaUŠ 4}{U-SŠaUŠ}{4}{yellow}{blue}{Matematika (SŠ)}
% \DefOddil{U-SŠaUŠ 5}{U-SŠaUŠ}{5}{yellow}{blue}{Chemie (SŠ)}
% \DefOddil{U-SŠaUŠ 6}{U-SŠaUŠ}{5}{yellow}{blue}{}
% \DefOddil{U-SŠaUŠ 7}{U-SŠaUŠ}{7}{yellow}{blue}{Dějepis (SŠ)}
% \DefOddil{U-SŠaUŠ 8}{U-SŠaUŠ}{8}{yellow}{blue}{Zeměpis (SŠ)}
% \DefOddil{U-SŠaUŠ 9}{U-SŠaUŠ}{9}{yellow}{blue}{Fyzika (SŠ)}
% \DefOddil{U-SŠaUŠ 10}{U-SŠaUŠ}{10}{yellow}{blue}{Cizí jazyky (SŠ)}
% \DefOddil{U-SŠaUŠ 11}{U-SŠaUŠ}{11}{yellow}{blue}{Biologie (SŠ)}
% \DefOddil{U-SŠaUŠ 12}{U-SŠaUŠ}{12}{yellow}{blue}{Hudební výchova (SŠ)}
\DefOddil{FR SŠ}{FR SŠ}{}{yellow}{blue}{Učebnice pro SŠ Francouzský jazyk}
\DefOddil{BIOL SŠ}{BIOL SŠ}{}{yellow}{blue}{Učebnice pro SŠ Biologie}
\DefOddil{HV SŠ}{HV SŠ}{}{yellow}{blue}{Učebnice pro SŠ Hudební výchova}
\DefOddil{LIT SŠ}{LIT SŠ}{}{yellow}{blue}{Učebnice pro SŠ Literatura}
\DefOddil{ČJ SŠ}{ČJ SŠ}{}{yellow}{blue}{Učebnice pro SŠ Český jazyk}
\DefOddil{OV SŠ}{OV SŠ}{}{yellow}{blue}{Učebnice pro SŠ Občanská výchova}
\DefOddil{MAT SŠ}{MAT SŠ}{}{yellow}{blue}{Učebnice pro SŠ Matematika}
\DefOddil{CHEM SŠ}{CHEM SŠ}{}{yellow}{blue}{Učebnice pro SŠ Chemie}
\DefOddil{DĚJ SŠ}{DĚJ SŠ}{}{yellow}{blue}{Učebnice pro SŠ Dějepis}
\DefOddil{ZEM SŠ}{ZEM SŠ}{}{yellow}{blue}{Učebnice pro SŠ Zeměpis}
\DefOddil{FYZ SŠ}{FYZ SŠ}{}{yellow}{blue}{Učebnice pro SŠ Fyzika}
\DefOddil{DĚJ ZŠ}{DĚJ ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Dějepis}
\DefOddil{VLAST ZŠ}{VLAST ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Vlastivěda}
\DefOddil{ZEM ZŠ}{ZEM ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Zeměpis}
\DefOddil{MAT POM ZŠ}{MAT POM ZŠ}{}{yellow}{blue}{Pomůcky pro ZŠ Matematika}
\DefOddil{MAT ZŠ}{MAT ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Matematika}
\DefOddil{FYZ ZŠ}{FYZ ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Fyzika}
\DefOddil{CHEM ZŠ}{CHEM ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Chemie}
\DefOddil{PŘÍR ZŠ}{PŘÍR ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Přírodověda}
\DefOddil{PRVO ZŠ}{PRVO ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Prvouka}
\DefOddil{FR ZŠ}{FR ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Francouzský jazyk}
\DefOddil{ČÍT ZŠ}{ČÍT ZŠ}{}{yellow}{blue}{Slabikáře, čítanky pro ZŠ}
\DefOddil{LIT ZŠ}{LIT ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Literární výchova}
\DefOddil{ČJ ZŠ}{ČJ ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Český jazyk}
\DefOddil{ČJ POM ZŠ}{ČJ POM ZŠ}{}{yellow}{blue}{Pomůcky pro ZŠ Český jazyk}
\DefOddil{HV ZŠ}{HV ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Hudební výchova}
\DefOddil{VV ZŠ}{VV ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Výtvarná výchova}
\DefOddil{OV ZŠ}{OV ZŠ}{}{yellow}{blue}{Učebnice pro ZŠ Občanská výchova}
\DefOddil{SPEC Š}{SPEC Š}{}{yellow}{blue}{Učebnice pro speciální školy}
% \DefOddil{U-ZVLŠ}{U-ZVLŠ}{}{yellow}{blue}{Učebnice pro zvláštní školy}
% \DefOddil{U-ZŠ 10}{U-ZŠ}{10}{yellow}{blue}{Dějepis}
% \DefOddil{U-ZŠ 11}{U-ZŠ}{11}{yellow}{blue}{Vlastivěda (ZŠ)}
% \DefOddil{U-ZŠ 12}{U-ZŠ}{12}{yellow}{blue}{Zeměpis (ZŠ)}
% \DefOddil{U-ZŠ 13}{U-ZŠ}{13}{yellow}{blue}{Sbírky úloh (ZŠ)}
% \DefOddil{U-ZŠ 14}{U-ZŠ}{14}{yellow}{blue}{Matematika (ZŠ)}
% \DefOddil{U-ZŠ 15}{U-ZŠ}{15}{yellow}{blue}{Fyzika (ZŠ)}
% \DefOddil{U-ZŠ 16}{U-ZŠ}{16}{yellow}{blue}{Chemie (ZŠ)}
% \DefOddil{U-ZŠ 17}{U-ZŠ}{17}{yellow}{blue}{Přírodopis (ZŠ)}
% \DefOddil{U-ZŠ 18}{U-ZŠ}{18}{yellow}{blue}{Prvouka (ZŠ)}
% \DefOddil{U-ZŠ 19}{U-ZŠ}{19}{yellow}{blue}{Cizí jazyky (ZŠ)}
% \DefOddil{U-ZŠ 1}{U-ZŠ}{1}{yellow}{blue}{Čítanky (ZŠ)}
% \DefOddil{U-ZŠ 2}{U-ZŠ}{2}{yellow}{blue}{Literární výchova (ZŠ)}
% \DefOddil{U-ZŠ 3}{U-ZŠ}{3}{yellow}{blue}{Český jazyk (ZŠ)}
% \DefOddil{U-ZŠ 4}{U-ZŠ}{4}{yellow}{blue}{Slabikáře a čítanky (ZŠ)}
% \DefOddil{U-ZŠ 5}{U-ZŠ}{5}{yellow}{blue}{Český jazyk - pravopis (ZŠ)}
% \DefOddil{U-ZŠ 6}{U-ZŠ}{6}{yellow}{blue}{Hudební výchova (ZŠ)}
% \DefOddil{U-ZŠ 7}{U-ZŠ}{7}{yellow}{blue}{Rodinná výchova, technické a pěstitelské práce (ZŠ)}
% \DefOddil{U-ZŠ 8}{U-ZŠ}{8}{yellow}{blue}{Výtvarná výchova (ZŠ)}
% \DefOddil{U-ZŠ 9}{U-ZŠ}{9}{yellow}{blue}{Občanská výchova (ZŠ)}
\DefOddil{VV 1}{VV}{1}{yellow}{brown}{Umění a design}
\DefOddil{VV 2}{VV}{2}{yellow}{brown}{České umění}
\DefOddil{VV 3}{VV}{3}{yellow}{brown}{Typografie}
\DefOddil{VV 4}{VV}{4}{yellow}{brown}{Architektura}
\DefOddil{VV 5}{VV}{5}{yellow}{brown}{Světové umění}
% \DefOddil{VV 7}{VV}{7}{yellow}{brown}{Pragensie}
\DefOddil{DID VV}{DID VV}{}{yellow}{brown}{Didaktika výtvarné výchovy}
\DefOddil{DV 1}{DV}{1}{yellow}{brown}{Dramatická výchova}
\DefOddil{DV 2}{DV}{2}{yellow}{brown}{Divadlo, film}
\DefOddil{ZDRAV}{ZDRAV}{}{green}{purple}{Výchova ke zdraví}
\DefOddil{ZEM}{ZEM}{}{white}{white}{Zeměpis}
\DefOddil{ODB 1}{ODB}{1}{white}{white}{Psaní odborných textů}
\DefOddil{ODB 2}{ODB}{2}{white}{white}{Výzkum}

\DefOddil{DĚT LIT 1}{DĚT LIT}{1}{violet}{yellow}{Próza pro děti a mládež}
\DefOddil{DĚT LIT 2}{DĚT LIT}{2}{violet}{yellow}{Poezie pro děti a mládež}
\DefOddil{DĚT LIT 3}{DĚT LIT}{3}{violet}{yellow}{Naučná literatura pro děti a mládež}

\DefOddil{BEL 1}{BEL}{1}{violet}{green}{Próza}
\DefOddil{BEL 2}{BEL}{2}{violet}{green}{Poezie}
\DefOddil{BEL 3}{BEL}{3}{violet}{green}{Drama, libreta}
\DefOddil{BEL 4}{BEL}{4}{violet}{green}{Komiksy}

\DefOddil{DID ČJ}{DID ČJ}{}{violet}{violet}{Didaktika českého jazyka}
\DefOddil{DID LIT}{DID LIT}{}{violet}{violet}{Didaktika literatury}

\DefOddil{LIT 1}{LIT}{1}{violet}{black}{Teorie literatury}
\DefOddil{LIT 2}{LIT}{2}{violet}{black}{Čtenářství}
\DefOddil{LIT 3}{LIT}{3}{violet}{black}{Dějiny literatury}
\DefOddil{LIT 4}{LIT}{4}{violet}{black}{Literární encyklopedie, slovníky}



\DefOddil{ČJ 1}{ČJ}{1}{violet}{violet}{Mluvnice}
\DefOddil{ČJ 2}{ČJ}{2}{violet}{violet}{Pravopis}
\DefOddil{ČJ 3}{ČJ}{3}{violet}{violet}{Jazykověda}
\DefOddil{ČJ 4}{ČJ}{4}{violet}{violet}{Stylistika}
% \DefOddil{ČJaLIT 6}{ČJaLIT}{6}{violet}{violet}{Literatura}
\DefOddil{ČJ 5}{ČJ}{5}{violet}{violet}{Jazykověda -- slovníky}
% \DefOddil{ČJaLIT 9}{ČJaLIT}{9}{violet}{gray}{Literatura -- slovníky}
\DefOddil{01/CHILD}{01/CHILD}{}{red}{BlueViolet}{}
\DefOddil{02/LITHCR}{02/LITHCR}{}{LimeGreen}{Yellow}{}{}
\DefOddil{03/BRFICT}{03/BRFICT}{}{LimeGreen}{LimeGreen}{}
\DefOddil{04/AMFICT}{04/AMFICT}{}{BlueViolet}{BlueViolet}{}
\DefOddil{05/POET}{05/POET}{}{gray}{Cyan3}{}
\DefOddil{06/BRPOET}{06/BRPOET}{}{gray}{LimeGreen}{}
\DefOddil{07/AMPOET}{07/AMPOET}{}{gray}{BlueViolet}{}
\DefOddil{08/LITHIS}{08/LITHIS}{}{gray}{lightgray}{}
\DefOddil{09/BRISTU}{09/BRISTU}{}{LimeGreen}{Chocolate4}{}
\DefOddil{10/AMSTU}{10/AMSTU}{}{BlueViolet}{Chocolate4}{}
\DefOddil{11/DRAMA}{11/DRAMA}{D}{red}{red}{}
\DefOddil{12/SPEAK}{12/SPEAK}{S}{red}{red}{}
\DefOddil{13/LIST}{13/LIST}{L}{red}{red}{}
\DefOddil{14/WRITE}{14/WRITE}{W}{red}{red}{}
\DefOddil{15/READ}{15/READ}{}{red}{LimeGreen}{}
\DefOddil{16/METOD}{16/METOD}{}{Yellow}{Chocolate4}{}
\DefOddil{17/GRAM}{17/GRAM}{}{red}{gray}{}
\DefOddil{18/GAME}{18/GAME}{}{red}{Cyan3}{}
\DefOddil{19/TEXT}{19/TEXT}{}{Yellow}{Yellow}{}
\DefOddil{20/ENGL}{20/ENGL}{}{Cyan3}{Chocolate4}{}
\DefOddil{21/LING}{21/LING}{}{Chocolate4}{red}{}
\DefOddil{22/VOCAB}{22/VOCAB}{}{red}{Yellow}{}
\DefOddil{23/PHON}{23/PHON}{}{gray}{Chocolate4}{}
\DefOddil{24/GEND}{24/GEND}{}{BlueViolet}{Yellow}{}
\DefOddil{25/NEWZW}{25/NEWZE}{}{Cyan3}{Cyan3}{}
\DefOddil{26/AUSTLI}{26/AUSTLI}{}{Chocolate4}{Chocolate4}{}
\DefOddil{27/DICT}{27/DICT}{}{Cyan3}{white}{}
\DefOddil{28/ENCYCL}{28/ENCYCL}{}{BlueViolet}{white}{}
\DefOddil{32/POSTC}{32/POSTC}{}{LimeGreen}{Cyan3}{}
\DefOddil{31/MISC}{31/MISC}{}{white}{white}{}
\DefOddil{De/A1}{De/A1}{A1}{Yellow}{Yellow}{}
\DefOddil{De/A2}{De/A2}{A2}{Yellow}{Yellow}{}
\DefOddil{De/B1}{De/B1}{B1}{Yellow}{Yellow}{}
\DefOddil{De/B2}{De/B2}{B2}{Yellow}{Yellow}{}
\DefOddil{De/C1}{De/C1}{C1}{Yellow}{Yellow}{}
\DefOddil{De/C2}{De/C2}{C2}{Yellow}{Yellow}{}
\DefOddil{De/C3}{De/C3}{C3}{Yellow}{Yellow}{}
\DefOddil{De/D1}{De/D1}{D1}{Yellow}{Yellow}{}
\DefOddil{De/D2}{De/D2}{D2}{Yellow}{Yellow}{}
\DefOddil{De/E}{De/E}{E}{Yellow}{Yellow}{}
\DefOddil{De/F}{De/F}{F}{Yellow}{Yellow}{}
\DefOddil{De/G}{De/G}{G}{Yellow}{Yellow}{}
\DefOddil{De/H}{De/H}{H}{Yellow}{Yellow}{}
\DefOddil{De/O}{De/O}{O}{Yellow}{Yellow}{}
\DefOddil{De/P}{De/P}{P}{Yellow}{Yellow}{}
\DefOddil{De/Z}{De/Z}{Z}{Yellow}{Yellow}{}
\DefOddil{Ru/A1}{Ru/A1}{A1}{Cyan3}{Cyan3}{}
\DefOddil{Ru/A2}{Ru/A2}{A2}{Cyan3}{Cyan3}{}
\DefOddil{Ru/B1}{Ru/B1}{B1}{Cyan3}{Cyan3}{}
\DefOddil{Ru/C1}{Ru/C1}{C1}{Cyan3}{Cyan3}{}
\DefOddil{Ru/D1}{Ru/D1}{D1}{Cyan3}{Cyan3}{}
\DefOddil{Ru/E}{Ru/E}{E}{Cyan3}{Cyan3}{}
\DefOddil{Ru/F}{Ru/F}{F}{Cyan3}{Cyan3}{}
\DefOddil{Ru/G}{Ru/G}{G}{Cyan3}{Cyan3}{}
\DefOddil{Ru/H}{Ru/H}{H}{Cyan3}{Cyan3}{}



</template>

<template id="signatura2_tex">
\documentclass{article}
\usepackage{kniznistitky}
\usepackage{fontspec}
\setmainfont{TeX Gyre Heros}
\setmainfont{TeX Gyre Heros}
\begin{document}
{{content}}
\end{document}


</template>

	<h1>Tvorba druhých signatur</h1>
  <textarea id="pole" rows="10" cols="50" placeholder="Zadejte data"></textarea>
<details><summary>Nastavení</summary>
  <legend>Startovací řádek: <input id="row" value="1" /></legend>
  <legend>Startovací sloupec: <input id="column" value="1" /></legend>
</details>
<button id="nacti">Načíst data</button>
<button id="generovat">Generovat PDF</button>
<div id="tabulka"></div>

  <p>Tento formulář vytvoří štítky pro polepení knížek ve studovnách. Po tom, co změníte lokace a nastavíte druhé signatury ve skenování jednotek v Almě, stáhněte XLSX soubor (zvýrazněná ikonka na obrázku) a data z něj zkopírujte do vstupního políčka. Je třeba stáhnout verzi souboru se všemi poli.</p>
  <figure>
    <a href="./img/skenovat_jednotky.png"><img src="./img/skenovat_jednotky.png" alt="screenshot skenování jednotek v Almě" style="max-width: 100%"/></a>
  </figure>
  <h2>Řešení problémů</h2>
  <p>Po načtení dat zkontrolujte jejich správnost ve vygenerované tabulce. Neznámé druhé signatury se zvýrazní červeně. Ty je třeba opravit v originální tabulce i v Almě. Pokud se vytvoří špatná zkratka z autora a knihy, opravte text za lomítkem ve sloupečku s názvy. U autora nechte jen jméno a příjmení, případně ho úplně smažte, pokud se má zkratka vytvořit jen na základě názvu.</p>


	<script>
		const pole = document.getElementById('pole');
		const nacti = document.getElementById('nacti');
		const tabulka = document.getElementById('tabulka');
    const generovat = document.getElementById("generovat")
    const stitky_oddily = document.getElementById("stitky_oddily_tex");
    const signatura2_sty = document.getElementById("kniznistitky_sty");
    const signatura2_tex = document.getElementById("signatura2_tex");
    const titul_col =1;
    const barcode_col = 3;
    const location_col = 4;
    const signatura_col = 7;
    const rules_col = 10;
    let transformed = []

		nacti.addEventListener('click', () => {
      const hodnoty =  parseTable(pole.value);
      if(hodnoty.length == 0){
        alert('Prosím, zadejte text obsahující tabulku s položkami oddělenými tabulátorem.');
      }else{
        transformed = transformTable(hodnoty, titul_col, barcode_col, location_col, signatura_col, rules_col)
        renderTable(transformed, tabulka);
        const signatury2 = parseOddily(stitky_oddily.content.textContent);
        // validace 2. signatur v tabulce
        const codeElements = document.querySelectorAll('.signatura');
        codeElements.forEach(element => {
          const textContent = element.textContent.trim(); // Načti a ořízni text
          // Zkontroluj, jestli text je klíčem v hash tabulce signatury2
          if (!signatury2.hasOwnProperty(textContent)) {
            element.classList.add('error'); // Přidej třídu "error", pokud klíč existuje
          }
        });
        generovat.style.visibility = "visible";
      }
		});
		generovat.addEventListener('click', () => {
      console.log(transformed);
      const texlive = new TeXLiveForm();
      // Načtení hodnot z inputů
      const rowValue = document.getElementById("row").value;
      const columnValue = document.getElementById("column").value;

      // Převod na integery
      const row = parseInt(rowValue, 10);
      const column = parseInt(columnValue, 10);
      const zacatek = (row - 1) * 3 + column - 1
      const latexCode = generateLaTeX(transformed, signatura2_tex.content.textContent, zacatek);
      console.log(latexCode)
      // console.log(signatura2_sty.content.textContent);
      // Příklad použití
      texlive.submit([
        {
          name: 'document.tex',
          content: latexCode
        },{
          name: "kniznistitky.sty",
          content: signatura2_sty.content.textContent
        },{
          name: "stitky-oddily.tex",
          content: stitky_oddily.content.textContent
       }
      ], {
        engine: 'lualatex',
        return: 'pdf'
      });

    });
  </script>
  <!-- <script src="js/header.js"></script> -->
</body>
</html>

